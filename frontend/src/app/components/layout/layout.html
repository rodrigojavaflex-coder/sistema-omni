<app-error-modal
  [visible]="(errorModalService.state$ | async)?.visible ?? false"
  [title]="(errorModalService.state$ | async)?.title"
  [message]="(errorModalService.state$ | async)?.message || ''"
  (closed)="errorModalService.hide()">
</app-error-modal>

<div class="layout-container" *ngIf="isAuthenticated">
  <app-header></app-header>
  <div class="main-content-wrapper">
    <app-navigation 
      class="layout-sidebar"
      [class.is-open]="isMenuOpen"
      [class.is-collapsed]="!isMenuOpen">
    </app-navigation>
    <main class="layout-content" [class.menu-collapsed]="!isMenuOpen">
      <router-outlet></router-outlet>
    </main>
  </div>
  <div class="mobile-overlay" [class.active]="isMenuOpen" (click)="closeMenu()"></div>
</div>

<div class="login-container" *ngIf="!isAuthenticated">
  <router-outlet></router-outlet>
</div>